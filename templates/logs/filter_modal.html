<!-- Filter Modal -->
<div class="modal fade" id="filterModal" tabindex="-1" aria-labelledby="filterModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg"> <!-- modal-sm for a smaller width -->
    <div class="modal-content shadow rounded-4 border-0 text-start"> <!-- rounded corners & shadow -->
      <form method="get" class=""> <!-- padding داخل الفورم -->
        <div class="modal-header border-0 pb-3 bg-danger">
          <h5 class="modal-title fw-bold text-white" id="filterModalLabel">Filter Logs</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body pt-2">
          <!-- Device Name -->
          <div class="mb-4">
            <label for="device_id" class="form-label fw-semibold">Device</label>
            <select name="device_id" id="device" class="form-select shadow-sm">
              <option value="">All Devices</option>
              {% for device in devices %}
                <option value="{{ device.id }}" {% if request.GET.device_id == device.id|stringformat:"s" %}selected{% endif %}>
                  {{ device.name }}
                </option>
              {% endfor %}
            </select>
          </div>

          <!-- Date Filter -->
          <div class="mb-4">
            <label for="filter-date" class="form-label fw-semibold">Date</label>
            <input type="date" class="form-control shadow-sm" id="filter-date" name="filter_date" value="{{ request.GET.filter_date }}">
            <div class="form-text fst-italic">Leave blank to show all dates</div>
          </div>

          <!-- Error Type -->
          <div class="mb-4">
            <label for="error-type" class="form-label fw-semibold">Error Type</label>
            <select class="form-select shadow-sm" id="error-type" name="error_type" multiple size="4" style="min-height: 100px;">
              <option value="All">All</option>
              <option value="Temperature">Temperature</option>
              <option value="Humidity">Humidity</option>
              <option value="WiFi">WiFi</option>
              <option value="SD Card">SD Card</option>
            </select>
            <div class="form-text fst-italic">Hold Ctrl (Windows) or Cmd (Mac) to select multiple types</div>
          </div>
        </div>
        <div class="modal-footer border-0 pt-0">
          <button type="submit" class="btn btn-danger w-100 fw-semibold shadow-sm">Apply Filter</button>
        </div>
      </form>
    </div>
  </div>
</div>
